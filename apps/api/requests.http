# Pick your baseUrl here:
@baseUrl = http://localhost:3002
#@baseUrl = https://api.firecrawl.dev

### Scrape Website
# @name scrape
POST {{baseUrl}}/v1/scrape HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}
content-type: application/json

{
  "url":"https://firecrawl.dev"
}

### Crawl Website
# @name crawl
POST {{baseUrl}}/v1/crawl HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}
content-type: application/json

{
  "url": "https://firecrawl.dev"
}

### Check Crawl Status
@crawlId = {{crawl.response.body.$.id}}
# @name crawlStatus
GET {{baseUrl}}/v1/crawl/{{crawlId}} HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}

### Cancel Crawl
@crawlId = {{crawl.response.body.$.id}}
# @name cancelCrawl
DELETE {{baseUrl}}/v1/crawl/{{crawlId}} HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}

### Batch Scrape Websites
# @name batchScrape
POST {{baseUrl}}/v1/batch/scrape HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}
content-type: application/json

{
  "urls": [
    "firecrawl.dev",
    "mendable.ai"
  ]
}

### Check Batch Scrape Status
@batchScrapeId = {{batchScrape.response.body.$.id}}
# @name batchScrapeStatus
GET {{baseUrl}}/v1/crawl/{{batchScrapeId}} HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}


### Map Website
# @name map
POST {{baseUrl}}/v1/map HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}
content-type: application/json

{
  "url": "firecrawl.dev",
  "sitemapOnly": true
}

### Scrape JSON ModeractFirecrawl
POST {{baseUrl}}/v1/scrape HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}
content-type: application/json

{
  "url": "https://firecrawl-e2e-test-git-main-rafaelsideguides-projects.vercel.app/numbered-pagination/with-params",
  "origin":"api-sdk",
  "agent": {
    "prompt": "Get the data from the last page. Use the pagination buttons to navigate."
  }
}

### Scrape JSON Mode
# @name extractFirecrawl
POST {{baseUrl}}/v1/scrape HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}
content-type: application/json

{
  "url": "https://firecrawl-e2e-test-git-main-rafaelsideguides-projects.vercel.app/numbered-pagination/with-params",
  "origin":"api-sdk",
  "formats": [ "json" ],
  "timeout": 160000,
  "jsonOptions": {
    "prompt":"Get all products in the page. Use the pagination buttons to navigate. It has 50 products.",
    "agent": true,
    "schema":{
      "type":"object",
      "properties":{
        "products": {
          "type":"array",
          "items":{
            "type":"object",
            "properties":{
              "name":{
                "type":"string"
              },
              "description":{
                "type":"string"
              }
            }
          }
        }
      },
      "required":[
        "products"
      ]
    }
  }
}


### Extract Firecrawl Title
# @name extractFirecrawl
POST {{baseUrl}}/v1/extract HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}
content-type: application/json

{
  "urls":[
    "https://firecrawl-e2e-test-git-main-rafaelsideguides-projects.vercel.app/numbered-pagination/with-params"
  ],
  "origin":"api-sdk",
  "prompt":"Get all products in the page. Use the pagination buttons to navigate. It has 50 products.",
  "agent": true,
  "schema":{
    "type":"object",
    "properties":{
      "products": {
        "type":"array",
        "items":{
          "type":"object",
          "properties":{
            "name":{
              "type":"string"
            },
            "description":{
              "type":"string"
            }
          }
        }
      }
    },
    "required":[
      "products"
    ]
  }
}

### Extract Firecrawl Title
# @name extractFirecrawl
POST {{baseUrl}}/v1/extract HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}
content-type: application/json

{
  "urls":[
    "https://dfwcaraccidentlawyers.com/*"
  ],
  "origin":"api-sdk",
  "prompt":"Extract the lawyers data from the website",
  "agent": true,
  "schema": {
    "type": "object",
    "$defs": {
      "Lawyer": {
        "type": "object",
        "title": "Lawyer",
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "phone-number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone-Number"
          },
          "practice-areas": {
            "type": "array",
            "items": {
              "$ref": "#/$defs/PracticeArea"
            },
            "title": "Practice-Areas"
          }
        }
      },
      "PracticeArea": {
        "type": "object",
        "title": "PracticeArea",
        "properties": {
          "area": {
            "type": "string",
            "title": "Area"
          }
        }
      }
    },
    "title": "LawyersSchema",
    "properties": {
      "lawyers": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/Lawyer"
        },
        "title": "Lawyers"
      }
    }
  }
}

###
@extractFirecrawlId = {{extractFirecrawl.response.body.$.id}}
# @name extractFirecrawlStatus 
GET {{baseUrl}}/v1/extract/{{extractFirecrawlId}} HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}

###
DELETE {{baseUrl}}/v1/crawl/c94136f9-86c1-4a97-966c-1c8e0274778f HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}

### Generate LLMs TXT
# @name generateLlmsTxt
POST {{baseUrl}}/v1/llmstxt HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}
content-type: application/json

{
  "url": "https://firecrawl.dev",
  "maxUrls": 1,
  "showFullText": false
}


### Check Generate LLMs TXT Status
@generateLlmsTxtId = {{generateLlmsTxt.response.body.$.id}}
# @name generateLlmsTxtStatus
GET {{baseUrl}}/v1/llmstxt/{{generateLlmsTxtId}} HTTP/1.1
Authorization: Bearer {{$dotenv TEST_API_KEY}}

